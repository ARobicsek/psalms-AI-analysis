2. âœ“ How to Run the Pipeline on a New Chapter
The pipeline script is: run_enhanced_pipeline.py Basic Usage:
python scripts/run_enhanced_pipeline.py PSALM_NUMBER
Examples:
# Generate complete commentary for Psalm 23
python scripts/run_enhanced_pipeline.py 23

# Generate master editor commentaries using SPECIAL INSTRUCTIONS

A - place special instructions here data/special_instructions/special_instructions_Psalm_019.txt
B - python scripts/run_si_pipeline.py 19
Note: all files preceding the master editor need to have already been created

# 2. Run the SI pipeline
python scripts/run_si_pipeline.py 19

# Or with custom instruction file
python scripts/run_si_pipeline.py 19 --special-instruction my_notes.txt


# have a conversation with the master editor
  python scripts/converse_with_editor.py 19
  python scripts/converse_with_editor.py 19 --edition college
  python scripts/converse_with_editor.py 23 --edition main


#run with opus 4.5 as the master editor
python scripts/run_enhanced_pipeline.py 9 --master-editor-model claude-opus-4-5

# skip everything
python scripts/run_enhanced_pipeline.py 23 --skip-macro --skip-micro --skip-insights --skip-synthesis --skip-master-edit --skip-college --skip-print-ready --skip-word-doc --skip-combined-doc

# resume for where the pipeline left off
python scripts/run_enhanced_pipeline.py 9 --resume

#use the OLD master editor
python scripts/run_enhanced_pipeline.py 126 --master-editor-old

#run only college
python scripts/run_enhanced_pipeline.py 126 --skip-macro --skip-micro --skip-synthesis --skip-master-edit 

# only the micro
python scripts/run_enhanced_pipeline.py 15 --skip-macro --skip-synthesis --skip-master-edit --skip-print-ready --skip-college --skip-word-doc --skip-combined-doc

#just all 3 word docs
python scripts/run_enhanced_pipeline.py 100 --skip-macro --skip-micro --skip-synthesis --skip-master-edit --skip-college --output-dir output/psalm_100

#run the RAG thematic match for a single verse in Psalms
python single_verse_search.py ps 61:4

# GPT-5 (older model, still with high reasoning)
python scripts/run_enhanced_pipeline.py <N> --master-editor-model gpt-5

#special commands
--skip_default_commentaries (this will ensure that only traditional commentaries requested by the Micro agent are requested)
--skip-macro 
--skip-micro 
--skip-synthesis 
--skip-master-edit 
--skip-college
--skip-print-ready
--skip-word-doc
--skip-combined-doc

#running Chrome in debug mode (where selenium works)
"C:\Program Files\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 --user-data-dir="C:/temp/chrome_debug"

#View the exact bundle passed to commentary agents
python view_research_bundle.py [psalm_number] [--format json|text|both]
RESEARCH_BUNDLE_VIEWING_GUIDE.md - Documentation on bundle structure


#Targeted Re-indexing Script
Created: scripts/reindex_specific_psalms.py
Features: Re-index specific Psalms, ranges, or all 150
Usage examples:
python scripts/reindex_specific_psalms.py 1 145 148
python scripts/reindex_specific_psalms.py --range 1-50
python scripts/reindex_specific_psalms.py --all
python scripts/reindex_specific_psalms.py --stats


# run a smoke test
python scripts/run_enhanced_pipeline.py 1 --smoke-test

# Custom output directory
python scripts/run_enhanced_pipeline.py 51 --output-dir output/psalm_51

# Resume from synthesis step (skip macro and micro)
python scripts/run_enhanced_pipeline.py 1 --skip-macro --skip-micro

# Skip master editing (use existing synthesis)
python scripts/run_enhanced_pipeline.py 2 --skip-master-edit

# testing for figurative librarian
python scripts/test_figurative_curator.py                    # Default: Psalm 23
python scripts/test_figurative_curator.py --psalm 22         # Different psalm
python scripts/test_figurative_curator.py --dry-run          # See prompts, no LLM
python scripts/test_figurative_curator.py --verbose          # Detailed progress


